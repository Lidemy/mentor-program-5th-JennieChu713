(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{26:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var r,c,a,o,i,s,u=t(1),j=t.n(u),b=t(17),d=t.n(b),l=(t(26),t(5)),h=t(2),O=t(3),m=t(8),x=t(4),p=Object(u.createContext)(null),g="token",f=function(e){localStorage.setItem(g,e)},v=function(){return localStorage.getItem(g)},y=t(0),w=O.a.nav(r||(r=Object(h.a)(["\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  align-items: center;\n  box-sizing: border-box;\n  box-shadow: 0 1px 5px 1px rgba(0, 0, 0, 0.1);\n  background-color: rgba(233, 228, 212, 0.3);\n  border-radius: 5px;\n"]))),S=O.a.header(c||(c=Object(h.a)(["\n  font-size: 2rem;\n  font-weight: 800;\n  margin-left: 1rem;\n  color: #c97586;\n"]))),k=Object(O.a)(m.b)(a||(a=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 5rem;\n  box-sizing: border-box;\n  cursor: pointer;\n  text-decoration: none;\n  color: #513743;\n\n  ","\n"])),(function(e){return e.$active&&"border-top: 1px solid rgba(162,87,104, 0.1);\n    border-bottom: 1px solid rgba(162,87,104, 0.1);\n    border-radius: 5px; color: #a25768;"})),C=O.a.div(o||(o=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  height: 2.5rem;\n"]))),z=O.a.div(i||(i=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  "," {\n    margin-left: 1rem;\n  }\n"])),C),I=O.a.div(s||(s=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  "," {\n    margin-right: 1rem;\n  }\n"])),C);function F(){var e=Object(x.g)(),n=Object(x.f)(),t=Object(u.useContext)(p),r=t.user,c=t.setUser;return Object(y.jsxs)(w,{children:[Object(y.jsxs)(z,{children:[Object(y.jsx)(S,{children:"B!og"}),Object(y.jsxs)(C,{children:[Object(y.jsx)(k,{$active:"/"===e.pathname,to:"/",children:"Home"}),Object(y.jsx)(k,{$active:"/about"===e.pathname,to:"/about",children:"About"}),r&&Object(y.jsx)(k,{$active:"/new-post"===e.pathname,to:"/new-post",children:"Post"})]})]}),Object(y.jsx)(I,{children:Object(y.jsxs)(C,{children:[!r&&Object(y.jsx)(k,{$active:"/register"===e.pathname,to:"/register",children:"Register"}),!r&&Object(y.jsx)(k,{$active:"/login"===e.pathname,to:"/login",children:"Login"}),r&&"hello, ".concat(r.nickname),r&&Object(y.jsx)(k,{onClick:function(){f(""),c(null),"/"!==e.pathname&&n.push("/")},to:"/",children:"Logout"})]})})]})}var P,L,T,D,R,B,U,$,A,J,N,Y,_,E,M="https://student-json-api.lidemy.me",q=function(e){return fetch("".concat(M,"/posts?_page=").concat(e,"&_limit=5&_sort=id&_order=desc")).then((function(e){return e.json()})).catch((function(e){return e.toString()}))},H=function(){var e=v();return fetch("".concat(M,"/me"),{headers:{authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).catch((function(e){return e.toString()}))},K=O.a.form(P||(P=Object(h.a)(["\n  margin: 3rem auto;\n  width: 50%;\n  text-align: center;\n  padding: 2rem 0;\n"]))),W=O.a.fieldset(L||(L=Object(h.a)(["\n  border: 1px solid rgba(236, 109, 81, 0.5);\n  border-radius: 5px;\n"]))),G=O.a.legend(T||(T=Object(h.a)(["\n  font-size: 2rem;\n  color: #6c2c2f;\n  padding: 0 1rem;\n"]))),Q=O.a.div(D||(D=Object(h.a)(["\n  color: #e83929;\n  font-size: 1.4rem;\n  margin: 1.4rem auto;\n"]))),V=O.a.div(R||(R=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 1.5rem 0;\n"]))),X=O.a.input(B||(B=Object(h.a)(['\n  &[type="submit"] {\n    margin-bottom: 1rem;\n    background: none;\n    border: 1px solid #a25768;\n    color: #a25768;\n    padding: 5px 10px;\n    border-radius: 5px;\n    cursor: pointer;\n    transition: all 0.3s;\n  }\n  &[type="submit"]:hover {\n    background: #a25768;\n    color: white;\n  }\n']))),Z=O.a.label(U||(U=Object(h.a)(["\n  margin-right: 2%;\n"])));function ee(){var e=Object(u.useContext)(p).setUser,n=Object(u.useState)(""),t=Object(l.a)(n,2),r=t[0],c=t[1],a=Object(u.useState)(""),o=Object(l.a)(a,2),i=o[0],s=o[1],j=Object(u.useState)(""),b=Object(l.a)(j,2),d=b[0],h=b[1],O=Object(x.f)(),m=function(){h("")};return Object(y.jsxs)(K,{onSubmit:function(n){h(null),n.preventDefault(),function(e,n){return fetch("".concat(M,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:e,password:n})}).then((function(e){return e.json()})).catch((function(e){return e.toString()}))}(r,i).then((function(n){if(0===n.ok)return f(null),h(n.message);f(n.token),H().then((function(n){if(1!==n.ok)return h(n.toString());console.log(n.data),e(n.data),O.push("/")}))}))},children:[Object(y.jsxs)(W,{children:[Object(y.jsx)(G,{children:"Login"}),Object(y.jsxs)(V,{children:[Object(y.jsx)(Z,{for:"username",children:"Username: "}),Object(y.jsx)(X,{id:"username",name:"username",placeholder:"Your username",type:"text",value:r,onChange:function(e){return c(e.target.value)},onFocus:m})]}),Object(y.jsxs)(V,{children:[Object(y.jsx)(Z,{for:"password",children:"Password: "}),Object(y.jsx)(X,{id:"password",name:"password",placeholder:"Your password",type:"password",value:i,onChange:function(e){return s(e.target.value)},onFocus:m})]}),Object(y.jsx)(X,{type:"submit",value:"Login"})]}),d&&Object(y.jsx)(Q,{children:d})]})}var ne=O.a.form($||($=Object(h.a)(["\n  margin: 3rem auto;\n  width: 50%;\n  text-align: center;\n  padding: 2rem 0;\n"]))),te=O.a.fieldset(A||(A=Object(h.a)(["\n  border: 1px solid rgba(240, 131, 0, 0.5);\n  border-radius: 5px;\n"]))),re=O.a.legend(J||(J=Object(h.a)(["\n  font-size: 2rem;\n  color: #a25768;\n  padding: 0 1rem;\n"]))),ce=O.a.div(N||(N=Object(h.a)(["\n  color: #e83929;\n  font-size: 1.4rem;\n  margin: 1.4rem auto;\n"]))),ae=O.a.div(Y||(Y=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 1.5rem 0;\n"]))),oe=O.a.input(_||(_=Object(h.a)(['\n  &[type="submit"] {\n    margin-bottom: 1rem;\n    background: none;\n    border: 1px solid #6c2c2f;\n    color: #6c2c2f;\n    padding: 5px 10px;\n    border-radius: 5px;\n    cursor: pointer;\n    transition: all 0.3s;\n  }\n  &[type="submit"]:hover {\n    background: #6c2c2f;\n    color: white;\n  }\n']))),ie=O.a.label(E||(E=Object(h.a)(["\n  margin-right: 2%;\n"])));function se(){var e=Object(u.useContext)(p).setUser,n=Object(u.useState)(""),t=Object(l.a)(n,2),r=t[0],c=t[1],a=Object(u.useState)(""),o=Object(l.a)(a,2),i=o[0],s=o[1],j=Object(u.useState)(""),b=Object(l.a)(j,2),d=b[0],h=b[1],O=Object(u.useState)(""),m=Object(l.a)(O,2),g=m[0],v=m[1],w=Object(x.f)(),S=function(){v("")};return Object(y.jsxs)(ne,{onSubmit:function(n){v(null),n.preventDefault(),function(e,n,t){return fetch("".concat(M,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:e,nickname:n,password:t})}).then((function(e){return e.json()})).catch((function(e){return e.toString()}))}(r,i,d).then((function(n){if(0===n.ok)return f(null),v(n.message);f(n.token),H().then((function(n){if(1!==n.ok)return v(n.toString());e(n.data),w.push("/")}))}))},children:[Object(y.jsxs)(te,{children:[Object(y.jsx)(re,{children:"Register"}),Object(y.jsxs)(ae,{children:[Object(y.jsx)(ie,{for:"username",children:"Username: "}),Object(y.jsx)(oe,{id:"username",name:"username",placeholder:"Your username",type:"text",value:r,onChange:function(e){return c(e.target.value)},onFocus:S})]}),Object(y.jsxs)(ae,{children:[Object(y.jsx)(ie,{for:"nickname",children:"Nickname: "}),Object(y.jsx)(oe,{id:"nickname",name:"nickname",placeholder:"Your nickname",type:"text",value:i,onChange:function(e){return s(e.target.value)},onFocus:S})]}),Object(y.jsxs)(ae,{children:[Object(y.jsx)(ie,{for:"password",children:"Password: "}),Object(y.jsx)(oe,{id:"password",name:"password",placeholder:"Your password",type:"password",value:d,onChange:function(e){return h(e.target.value)},onFocus:S})]}),Object(y.jsx)(oe,{type:"submit",value:"Register"})]}),g&&Object(y.jsx)(ce,{children:g})]})}var ue,je,be,de,le,he,Oe,me,xe,pe,ge,fe=t.p+"static/media/ripple.42ec6101.svg",ve=t.p+"static/media/ellipsis.962ca38c.svg",ye=O.a.div(ue||(ue=Object(h.a)(["\n  width: fit-content;\n  margin: 0 auto;\n"]))),we=function(){return Object(y.jsx)(ye,{children:Object(y.jsx)("img",{src:fe})})},Se=function(){return Object(y.jsx)(ye,{children:Object(y.jsx)("img",{src:ve})})},ke=O.a.section(je||(je=Object(h.a)(["\n  width: 80%;\n  margin: 2rem auto;\n"]))),Ce=O.a.article(be||(be=Object(h.a)(["\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n  border-bottom: 1px solid #b4aeb1;\n  padding: 1rem;\n"]))),ze=Object(O.a)(m.b)(de||(de=Object(h.a)(["\n  font-size: 1.4rem;\n  font-weight: 800;\n  color: #4f455c;\n  text-decoration: none;\n  cursor: pointer;\n  width: 500px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),Ie=O.a.div(le||(le=Object(h.a)(["\n  color: #b4aeb1;\n"]))),Fe=O.a.div(he||(he=Object(h.a)(["\n  width: 60%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 2rem auto;\n"]))),Pe=O.a.div(Oe||(Oe=Object(h.a)(["\n  display: flex;\n"]))),Le=O.a.div(me||(me=Object(h.a)(["\n  cursor: pointer;\n  margin-left: 2rem;\n  font-size: 1.4rem;\n  color: #d3cbc6;\n"])));function Te(e){var n=e.post;return Object(y.jsxs)(Ce,{children:[Object(y.jsx)(ze,{to:"/post/".concat(n.id),children:n.title}),Object(y.jsx)(Ie,{children:new Date(n.createdAt).toLocaleDateString()})]})}function De(){var e=Object(u.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],c=Object(u.useRef)(1),a=Object(u.useRef)(0),o=Object(u.useState)(!1),i=Object(l.a)(o,2),s=i[0],j=i[1];Object(u.useEffect)((function(){fetch("".concat(M,"/posts")).then((function(e){return e.json()})).catch((function(e){return e.toString()})).then((function(e){return e&&j(!0),a.current=Math.ceil(e.length/5)})),q(c.current).then((function(e){return r(e)}))}),[]);var b=function(e){"First"===e.target.innerText&&(c.current=1),"Last"===e.target.innerText&&(c.current=a.current+1),"next"===e.target.innerText?c.current<a.current&&(c.current+=1):c.current>1&&(c.current-=1),q(c.current).then((function(e){return r(e)}))};return Object(y.jsxs)(ke,{children:[t.length?t.map((function(e){return Object(y.jsx)(Te,{post:e},e.id)})):Object(y.jsx)(we,{}),Object(y.jsxs)(Fe,{children:[Object(y.jsxs)(Pe,{children:[Object(y.jsx)(Le,{onClick:b,children:"First"}),1!==c.current&&Object(y.jsx)(Le,{onClick:b,children:"prev"})]}),s&&0!==a.current?"".concat(c.current,"/").concat(a.current):Object(y.jsx)(Se,{}),Object(y.jsxs)(Pe,{children:[c.current!==a.current&&Object(y.jsx)(Le,{onClick:b,children:"next"}),Object(y.jsx)(Le,{onClick:b,children:"Last"})]})]})]})}var Re,Be,Ue,$e,Ae,Je,Ne,Ye,_e=O.a.section(xe||(xe=Object(h.a)(["\n  width: 50%;\n  margin: 2rem auto;\n  border-top: 1px solid rgba(222, 176, 102, 0.5);\n  border-bottom: 1px solid rgba(222, 176, 102, 0.5);\n  border-radius: 5px;\n"]))),Ee=O.a.h2(pe||(pe=Object(h.a)([""]))),Me=O.a.div(ge||(ge=Object(h.a)(["\n  margin: 1.5rem 1rem;\n"])));function qe(){return Object(y.jsxs)(_e,{children:[Object(y.jsx)(Ee,{children:"About Me"}),Object(y.jsx)(Me,{children:"\"I never had that many friends growing up so I used to be, OK with just me, just me, just me, just me... So I'll be fine, on the outside. I like to eat in school by myself, anyway, so I'll just stay, right here, right here, right here, right here... And I'll be fine, on the outside. So I just sit in my room after hours with the moon, to think of who knows my name. Would you cry if I died would you remember, my face.\""})]})}var He,Ke,We,Ge,Qe,Ve=O.a.form(Re||(Re=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 3rem auto;\n  width: 50%;\n  text-align: center;\n"]))),Xe=O.a.h2(Be||(Be=Object(h.a)([""]))),Ze=O.a.div(Ue||(Ue=Object(h.a)(["\n  color: #e83929;\n  font-size: 1.4rem;\n  margin: 1.4rem auto;\n"]))),en=O.a.div($e||($e=Object(h.a)(["\n  text-align: center;\n  width: 50%;\n  color: #c53d43;\n  font-size: 1.4rem;\n  margin: 2rem auto;\n  border: 1px solid #c53d43;\n  border-radius: 5px;\n  padding: 1.4rem;\n"]))),nn=O.a.div(Ae||(Ae=Object(h.a)(["\n  display: flex;\n  margin: 1.2rem 0;\n"]))),tn=O.a.input(Je||(Je=Object(h.a)(['\n  width: 100%;\n\n  &[type="submit"] {\n    width: 30%;\n    margin: 0 auto 1rem;\n    background: none;\n    border: 1px solid #6c2c2f;\n    color: #6c2c2f;\n    padding: 5px 10px;\n    border-radius: 5px;\n    cursor: pointer;\n    transition: all 0.3s;\n  }\n  &[type="submit"]:hover {\n    background: #6c2c2f;\n    color: white;\n  }\n']))),rn=O.a.textarea(Ne||(Ne=Object(h.a)(["\n  margin-bottom: 1.2rem;\n"]))),cn=O.a.label(Ye||(Ye=Object(h.a)(["\n  margin-right: 2%;\n"])));function an(){var e=Object(u.useState)(""),n=Object(l.a)(e,2),t=n[0],r=n[1],c=Object(u.useState)(""),a=Object(l.a)(c,2),o=a[0],i=a[1],s=Object(u.useState)(""),j=Object(l.a)(s,2),b=j[0],d=j[1],h=Object(x.f)(),O=Object(u.useContext)(p).user,m=function(){r("")};return O?Object(y.jsxs)(Ve,{onSubmit:function(e){r(null),e.preventDefault(),function(e,n,t){var r=v();return fetch("".concat(M,"/posts"),{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer ".concat(r)},body:JSON.stringify({userId:t,title:e,body:n})}).then((function(e){return e.json()})).catch((function(e){return e.toString()}))}(o,b,O.id).then((function(e){if(0===e.ok)return r(e.message);i(""),d(""),h.push("/")}))},children:[Object(y.jsx)(Xe,{children:"New Post"}),Object(y.jsxs)(nn,{children:[Object(y.jsx)(cn,{for:"title",children:"Title: "}),Object(y.jsx)(tn,{id:"title",name:"title",placeholder:"Post Title",type:"text",value:o,onChange:function(e){return i(e.target.value)},onFocus:m})]}),Object(y.jsx)(rn,{rows:"10",name:"body",placeholder:"Post Content",value:b,onChange:function(e){return d(e.target.value)},onFocus:m}),Object(y.jsx)(tn,{type:"submit",value:"Submit"}),t&&Object(y.jsx)(Ze,{children:t})]}):Object(y.jsx)(en,{children:"To Commit Post, Login or Register is Required."})}var on,sn=Object(O.a)(m.b)(He||(He=Object(h.a)(["\n  text-decoration: none;\n  color: #df7163;\n  border: 1px solid #df7163;\n  padding: 5px 10px;\n  border-radius: 5px;\n  transition: all 0.3s;\n  display: block;\n  width: fit-content;\n  text-align: center;\n  margin: 0 auto;\n  &:hover {\n    background: #df7163;\n    color: white;\n  }\n"]))),un=O.a.article(Ke||(Ke=Object(h.a)(["\n  width: 60%;\n  margin: 2rem auto;\n"]))),jn=O.a.div(We||(We=Object(h.a)(["\n  font-size: 1.3rem;\n  font-weight: 800;\n  text-align: center;\n  margin-bottom: 1.4rem;\n  color: #513743;\n"]))),bn=O.a.div(Ge||(Ge=Object(h.a)(["\n  font-size: 0.8rem;\n  color: #c37854;\n  font-style: oblique;\n  margin-bottom: 1.4rem;\n"]))),dn=O.a.div(Qe||(Qe=Object(h.a)(["\n  margin-bottom: 2.5rem;\n  white-space: pre-line;\n"])));function ln(){var e=Object(x.h)().postId,n=Object(u.useState)(null),t=Object(l.a)(n,2),r=t[0],c=t[1];return Object(u.useEffect)((function(){var n;(n=e,fetch("".concat(M,"/posts?id=").concat(n)).then((function(e){return e.json()})).catch((function(e){return e.toString()}))).then((function(e){return c(e[0])}))}),[e]),Object(y.jsx)(un,{children:r?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(jn,{children:r&&r.title}),Object(y.jsx)(bn,{children:r&&new Date(r.createdAt).toLocaleString()}),Object(y.jsx)(dn,{children:r&&r.body}),Object(y.jsx)(sn,{to:"/",children:"Back"})]}):Object(y.jsx)(we,{})})}var hn=O.a.main(on||(on=Object(h.a)(["\n  background-color: rgba(255, 255, 252, 0.3);\n  height: 80vh;\n  padding-top: 64px;\n"])));var On=function(){var e=Object(u.useState)(null),n=Object(l.a)(e,2),t=n[0],r=n[1];return Object(y.jsx)(p.Provider,{value:{user:t,setUser:r},children:Object(y.jsx)(hn,{children:Object(y.jsxs)(m.a,{children:[Object(y.jsx)(F,{}),Object(y.jsxs)(x.c,{children:[Object(y.jsx)(x.a,{exact:!0,path:"/",children:Object(y.jsx)(De,{})}),Object(y.jsx)(x.a,{exact:!0,path:"/post/:postId",children:Object(y.jsx)(ln,{})}),Object(y.jsx)(x.a,{exact:!0,path:"/about",children:Object(y.jsx)(qe,{})}),Object(y.jsx)(x.a,{exact:!0,path:"/new-post",children:Object(y.jsx)(an,{})}),Object(y.jsx)(x.a,{exact:!0,path:"/login",children:Object(y.jsx)(ee,{})}),Object(y.jsx)(x.a,{exact:!0,path:"/register",children:Object(y.jsx)(se,{})})]})]})})})},mn=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,39)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),a(e),o(e)}))};d.a.render(Object(y.jsx)(j.a.StrictMode,{children:Object(y.jsx)(On,{})}),document.getElementById("root")),mn()}},[[38,1,2]]]);
//# sourceMappingURL=main.6891984e.chunk.js.map